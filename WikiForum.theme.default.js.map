{"version":3,"sources":["webpack://mediawiki-wikiforum/./theme/default/default.js"],"names":["mw","hook","add","next","allForumsContainer","ctx","$","forumContainer","meta","id","firstThread","append","text","title","userAuthor","href","util","getUrl","html","content","Date","timePublish","toLocaleString","fn","newThreadArea","normalThread","newReplyArea"],"mappings":"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","file":"WikiForum.theme.default.js","sourcesContent":["/**\n * @function theme.default 标准的官方主题\n * @param {Object} ctx\n * @param {jQuery<Element>} ctx.fn.newThreadArea\n * @param {jQuery<Element>} ctx.fn.newReplyArea\n * @param {Object} ctx.meta\n *\n * @param {Function} next\n */\nmw.hook('WikiForum.theme').add(next => {\n  var allForumsContainer = ctx => {\n    return $('<div>', { class: 'wiki-forum-all-container' })\n  }\n\n  var forumContainer = ctx => {\n    return $('<div>', { class: 'wiki-forum', 'data-forumid': ctx.meta.id })\n  }\n\n  var firstThread = ctx => {\n    return $('<div>', { class: 'forum-thread forum-first' }).append(\n      $('<div>', { class: 'forum-before' }).append(\n        $('<h3>', { class: 'forum-title', text: ctx.meta.title }),\n        $('<span>', { class: 'forum-id-link', text: '#' + ctx.meta.id }),\n        $('<div>', { class: 'forum-user' }).append(\n          $('<span>', { class: 'forum-user-link' }).append(\n            $('<a>', {\n              text: ctx.meta.userAuthor,\n              href: mw.util.getUrl('User:' + ctx.meta.userAuthor),\n            })\n          )\n        )\n      ),\n      $('<div>', { class: 'forum-content', html: ctx.content }),\n      $('<div>', { class: 'forum-after' }).append(\n        $('<i>', {\n          class: 'post-date',\n          text: new Date(ctx.meta.timePublish).toLocaleString(),\n        })\n      ),\n      ctx.fn.newThreadArea\n    )\n  }\n\n  var normalThread = ctx => {\n    return $('<div>', { class: 'forum-thread' }).append(\n      $('<div>', { class: 'forum-before' }).append(\n        $('<div>', { class: 'forum-user' }).append(\n          $('<span>', { class: 'forum-user-link' }).append(\n            $('<a>', {\n              text: ctx.meta.userAuthor,\n              href: mw.util.getUrl('User:' + ctx.meta.userAuthor),\n            })\n          )\n        )\n      ),\n      $('<div>', { class: 'forum-content', html: ctx.content }),\n      $('<div>', { class: 'forum-after' }).append(\n        $('<i>', {\n          class: 'post-date',\n          text: new Date(ctx.meta.timePublish).toLocaleString(),\n        }),\n        ctx.fn.newReplyArea\n      )\n    )\n  }\n\n  next &&\n    next({\n      allForumsContainer,\n      forumContainer,\n      // beforeForum,\n      firstThread,\n      normalThread,\n      // afterForum,\n    })\n})\n"],"sourceRoot":""}