{"version":3,"sources":["webpack://mediawiki-wikiforum/./theme/default.js"],"names":["mw","hook","add","next","allForumsContainer","ctx","$","forumContainer","meta","id","threadContainer","forumid","threadid","content","timePublish","timeRelease","release","timeModify","userAuthor","user","userLast","htmlId","$idLink","text","href","click","e","preventDefault","window","history","pushState","location","split","$block","animate","scrollTop","offset","top","$userLink","append","util","getUrl","$content","html","$timeArea","dateFormat","Date","forumMeta","title","_forum","fn","$replyArea","newReplyArea","forumEl","show","hide","$container","$textArea","$submitBtn","val","addClass","updater","addReply","newThreadArea","addThread","newForumContainer","noForumContainer","afterForum","afterAllForums","handleLoading","container","fmt","date","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","S","getMilliseconds","test","replace","RegExp","$1","getFullYear","substr","length","k","WikiForumDefaultThemeStyle","loader","load"],"mappings":"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","file":"WikiForum.theme.default.js","sourcesContent":["/**\n * @function theme.default 标准的官方主题\n * @param {Object} ctx\n * @param {Object} ctx.meta Metadata\n *\n * @param {Function} next\n */\nmw.hook('WikiForum.theme').add(next => {\n  // 全论坛容器\n  var allForumsContainer = ctx => {\n    return $('<div>', { class: 'wiki-forum-all-container' })\n  }\n\n  // 单论坛容器\n  var forumContainer = ctx => {\n    return $('<div>', {\n      class: 'wiki-forum',\n      'data-forumid': ctx.meta.id,\n    })\n  }\n\n  // 帖子容器\n  var threadContainer = ctx => {\n    // 处理 meta\n    const { forumid, threadid, content } = ctx\n    const timePublish =\n      ctx.meta.timePublish || ctx.meta.timeRelease || ctx.meta.release || ''\n    const timeModify = ctx.meta.timeModify || timePublish\n    const userAuthor = ctx.meta.userAuthor || ctx.meta.user || 'unsigned'\n    const userLast = ctx.meta.userLast || userAuthor\n    const htmlId = `forum-${forumid}_thread-${threadid}`\n\n    // 缓存组件\n    var $idLink = $('<a>', {\n      class: 'forum-id-link',\n      text: '#' + threadid,\n      href: `#${htmlId}`,\n    }).click(function(e) {\n      e.preventDefault()\n      window.history.pushState(\n        null,\n        null,\n        window.location.href.split('#')[0] + '#' + htmlId\n      )\n      const $block = $('#' + htmlId)\n      $('html,body').animate({ scrollTop: $block.offset().top - 100 }, 500)\n    })\n    var $userLink = $('<div>', { class: 'forum-user' }).append(\n      $('<span>', { class: 'forum-user-link' }).append(\n        $('<a>', {\n          class: 'mw-userlink userAuthor',\n          text: userAuthor,\n          href: mw.util.getUrl('User:' + userAuthor),\n        }),\n        userLast === userAuthor\n          ? ''\n          : $('<i>', { text: '（修改者：' + userLast + '）' })\n      )\n    )\n    var $content = $('<div>', { class: 'forum-content', html: content })\n    var $timeArea = $('<div>', { class: 'post-time' }).append(\n      $('<i>', {\n        class: 'post-date timePublish',\n        text: dateFormat('yyyy年M月d日 hh:mm:ss', new Date(timePublish)),\n      })\n    )\n\n    // 判断是否为楼主，并返回帖子容器\n    if (threadid === '1') {\n      // 楼主\n      return $('<div>', {\n        id: htmlId,\n        class: 'forum-thread forum-first',\n      }).append(\n        $('<div>', { class: 'forum-before' }).append(\n          $('<h3>', {\n            class: 'forum-title',\n            text: ctx.forumMeta.title || '[UNTITLED] Forum Topic #' + forumid,\n          }),\n          $idLink,\n          $userLink\n        ),\n        $content,\n        $('<div>', { class: 'forum-after' }).append($timeArea)\n      )\n    } else {\n      // 普通帖子\n      const { forumid, _forum, fn } = ctx\n      var $replyArea = newReplyArea({\n        forumEl: _forum,\n        forumid,\n        threadid,\n        fn,\n      })\n\n      return $('<div>', { class: 'forum-thread', id: htmlId }).append(\n        $('<div>', { class: 'forum-before' }).append($idLink, $userLink),\n        $content,\n        $('<div>', { class: 'forum-after' }).append(\n          $timeArea,\n          $('<div>', { class: 'new-reply-container' }).append(\n            $('<div>', { class: 'modify-buttons-group' }).append(\n              $('<a>', {\n                class: 'reply-btn',\n                href: 'javascript:;',\n                text: '回复',\n              }).click(function(e) {\n                $replyArea.show()\n                $(this).hide()\n              })\n            ),\n            $replyArea\n          )\n        )\n      )\n    }\n  }\n\n  // 新回复容器\n  var newReplyArea = ctx => {\n    var $container = $('<div>', {\n      class: 'forum-new-reply-area',\n    })\n    var $textArea = $('<textarea>', { class: 'forum-textarea' })\n    var $submitBtn = $('<button>', {\n      text: '回复',\n      class: 'forum-submit-btn',\n    }).click(function() {\n      var content = $textArea.val()\n      if (!content) return\n\n      $container.addClass('forum-loading')\n      const { forumEl, forumid, threadid } = ctx\n      ctx.fn.updater.addReply({\n        forumEl,\n        content,\n        forumid,\n        threadid,\n      })\n    })\n\n    $container.append(\n      $('<label>', { class: 'forum-input-container' }).append(\n        $('<div>').append($textArea),\n        $('<div>').append($submitBtn)\n      )\n    )\n\n    return $container\n  }\n\n  // 新帖子容器\n  var newThreadArea = ctx => {\n    const { _forum, forumid } = ctx\n\n    var $container = $('<div>', {\n      class: 'forum-new-thread-area',\n    })\n    var $textArea = $('<textarea>', { class: 'forum-textarea' })\n    var $submitBtn = $('<button>', {\n      text: '发送',\n      class: 'forum-submit-btn',\n    }).click(function() {\n      var content = $textArea.val()\n      if (!content) return\n\n      $container.addClass('forum-loading')\n      ctx.fn.updater.addThread({\n        forumEl: _forum,\n        forumid,\n        content,\n      })\n    })\n\n    $container.append(\n      $('<strong>', { text: '回复楼主' }),\n      $('<label>', { class: 'forum-input-container' }).append(\n        $('<div>').append($textArea),\n        $('<div>').append($submitBtn)\n      )\n    )\n\n    return $container\n  }\n\n  // 新论坛容器\n  var newForumContainer = ctx => {\n    return $('<div>').append($('<p>', { text: 'newForumContainer' }))\n  }\n\n  // 无论坛容器\n  var noForumContainer = ctx => {}\n\n  var afterForum = ctx => {\n    return $('<div>', { class: 'forum-thread forum-add-thread' }).append(\n      newThreadArea(ctx)\n    )\n  }\n\n  var afterAllForums = ctx => {\n    return newForumContainer(ctx)\n  }\n\n  var handleLoading = container => {\n    $(container).addClass('forum-loading')\n  }\n\n  // @function dateFormat\n  function dateFormat(fmt, date) {\n    date = date || new Date()\n    var o = {\n      'M+': date.getMonth() + 1, //月份\n      'd+': date.getDate(), //日\n      'h+': date.getHours(), //小时\n      'm+': date.getMinutes(), //分\n      's+': date.getSeconds(), //秒\n      'q+': Math.floor((date.getMonth() + 3) / 3), //季度\n      S: date.getMilliseconds(), //毫秒\n    }\n    if (/(y+)/.test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        (date.getFullYear() + '').substr(4 - RegExp.$1.length)\n      )\n    }\n    for (var k in o)\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          RegExp.$1.length == 1\n            ? o[k]\n            : ('00' + o[k]).substr(('' + o[k]).length)\n        )\n      }\n    return fmt\n  }\n\n  next &&\n    next({\n      allForumsContainer,\n      forumContainer,\n      threadContainer,\n      afterAllForums,\n      afterForum,\n      noForumContainer,\n      handleLoading,\n    })\n})\n\n// Import style\nif (window.WikiForumDefaultThemeStyle !== false) {\n  mw.loader.load(\n    'https://proj.wjghj.cn/Gadget-WikiForum/dist/WikiForum.theme.default.css',\n    'text/css'\n  )\n}\n"],"sourceRoot":""}