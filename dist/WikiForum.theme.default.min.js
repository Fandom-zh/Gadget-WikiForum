/*! For license information please see WikiForum.theme.default.min.js.LICENSE.txt */
mw.hook("WikiForum.theme").add((function(e){var t=function(e){var t=$("<textarea>",{class:"forum-textarea"}),a=$("<button>",{text:"回复",class:"forum-submit-btn"}).click((function(){var a=t.val();if(a){var r=e.forumEl,n=e.forumid,o=e.threadid;e.fn.updater.addReply({forumEl:r,content:a,forumid:n,threadid:o})}}));return $("<div>",{class:"forum-new-reply-area"}).append($("<label>",{class:"forum-input-container"}).append($("<div>").append(t),$("<div>").append(a)))};function a(e,t){var a={"M+":(t=t||new Date).getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return e}e&&e({allForumsContainer:function(e){return $("<div>",{class:"wiki-forum-all-container"})},forumContainer:function(e){return $("<div>",{class:"wiki-forum","data-forumid":e.meta.id})},threadContainer:function(e){var r=e.forumid,n=e.threadid,o=e.content,i=e.meta.timePublish||e.meta.timeRelease||e.meta.release||"",s=(e.meta.timeModify,e.meta.userAuthor||e.meta.user||"unsigned"),u=e.meta.userLast||s,d="forum-".concat(r,"_thread-").concat(n),l=$("<a>",{class:"forum-id-link",text:"#"+n,href:"#".concat(d)}).click((function(e){e.preventDefault();var t=$("#"+d);$("html,body").animate({scrollTop:t.offset().top},500)})),f=$("<div>",{class:"forum-user"}).append($("<span>",{class:"forum-user-link"}).append($("<a>",{class:"mw-userlink userAuthor",text:s,href:mw.util.getUrl("User:"+s)}),u===s?"":$("<i>",{text:"（修改者："+u+"）"}))),m=$("<div>",{class:"forum-content",html:o}),c=$("<div>",{class:"post-time"}).append($("<i>",{class:"post-date timePublish",text:a("yyyy年M月d日 hh:mm:ss",new Date(i))}));if("1"===n)return $("<div>",{id:d,class:"forum-thread forum-first"}).append($("<div>",{class:"forum-before"}).append($("<h3>",{class:"forum-title",text:e.forumMeta.title||"[UNTITLED] Forum Topic #"+r}),l,f),m,$("<div>",{class:"forum-after"}).append(c));var p=e.forumid,h=e._forum,v=e.fn,g=t({forumEl:h,forumid:p,threadid:n,fn:v});return $("<div>",{class:"forum-thread"}).append($("<div>",{class:"forum-before"}).append(l,f),m,$("<div>",{class:"forum-after"}).append(c,$("<div>",{class:"new-reply-container"}).append($("<div>",{class:"modify-buttons-group"}).append($("<a>",{class:"reply-btn",href:"javascript:;",text:"回复"}).click((function(e){g.show(),$(this).hide()}))),g)))},afterAllForums:function(e){return $("<div>").append($("<p>",{text:"newForumContainer"}))},afterForum:function(e){return $("<div>",{class:"forum-thread forum-add-thread"}).append(function(e){var t=e._forum,a=e.forumid,r=$("<textarea>",{class:"forum-textarea"}),n=$("<button>",{text:"发送",class:"forum-submit-btn"}).click((function(){var n=r.val();n&&e.fn.updater.addThread({forumEl:t,forumid:a,content:n})}));return $("<div>",{class:"forum-new-thread-area"}).append($("<strong>",{text:"回复楼主"}),$("<label>",{class:"forum-input-container"}).append($("<div>").append(r),$("<div>").append(n)))}(e))},noForumContainer:function(e){},handleLoading:function(e){$(e).addClass("forum-loading")}})})),!1!==window.WikiForumDefaultThemeStyle&&mw.loader.load("https://proj.wjghj.cn/Gadget-WikiForum/dist/WikiForum.theme.default.css","text/css");
//# sourceMappingURL=WikiForum.theme.default.min.js.map