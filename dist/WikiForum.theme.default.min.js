/*! For license information please see WikiForum.theme.default.min.js.LICENSE.txt */
!function(){var e={344:function(e){e.exports={api:mw.util.wikiScript("api"),conf:mw.config.get(),editToken:mw.user.tokens.get("editToken"),hook:mw.hook,util:mw.util}}},t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}!function(){var e=r(344);e.hook("WikiForum.theme").add((function(t){var r=function(e){var t=$("<textarea>",{class:"forum-textarea"}),r=$("<button>",{text:"回复",class:"forum-submit-btn"}).click((function(){var e=t.val();e&&console.info("New reply",e)}));return $("<div>",{class:"forum-new-reply-area"}).append($("<label>",{class:"forum-input-container"}).append($("<div>").append(t),$("<div>").append(r)))};function a(e,t){var r={"M+":(t=t||new Date).getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return e}t&&t({allForumsContainer:function(e){return $("<div>",{class:"wiki-forum-all-container"})},forumContainer:function(e){return $("<div>",{class:"wiki-forum","data-forumid":e.meta.id})},threadContainer:function(t){var n=String(t.id),i=t.content,o=t.meta.timePublish||t.meta.timeRelease||t.meta.release||"",s=(t.meta.timeModify,t.meta.userAuthor||t.meta.user||"unsigned"),u=t.meta.userLast||s,l=$("<span>",{class:"forum-id-link",text:"#"+n}),d=$("<div>",{class:"forum-user"}).append($("<span>",{class:"forum-user-link"}).append($("<a>",{class:"mw-userlink userAuthor",text:s,href:e.util.getUrl("User:"+s)}),u===s?"":$("<i>",{text:"（修改者："+u+"）"}))),p=$("<div>",{class:"forum-content",html:i}),c=$("<div>",{class:"post-time"}).append($("<i>",{class:"post-date timePublish",text:a("yyyy年M月d日 hh:mm:ss",new Date(o))}));if("1"===n)return $("<div>",{class:"forum-thread forum-first"}).append($("<div>",{class:"forum-before"}).append($("<h3>",{class:"forum-title",text:t.forumMeta.title||"[UNTITLED] Forum Topic #"+forumid}),l,d),p,$("<div>",{class:"forum-after"}).append(c));var m=r();return $("<div>",{class:"forum-thread"}).append($("<div>",{class:"forum-before"}).append(l,d),p,$("<div>",{class:"forum-after"}).append(c,$("<div>",{class:"new-reply-container"}).append($("<div>",{class:"modify-buttons-group"}).append($("<a>",{class:"reply-btn",href:"javascript:;",text:"回复"}).click((function(e){m.show(),$(this).hide()}))),m)))},afterAllForums:function(e){return $("<div>").append($("<p>",{text:"newForumContainer"}))},afterForum:function(e){return $("<div>",{class:"forum-thread forum-add-thread"}).append((t=$("<textarea>",{class:"forum-textarea"}),r=$("<button>",{text:"发送",class:"forum-submit-btn"}).click((function(){var e=t.val();e&&console.info("New thread",e)})),$("<div>",{class:"forum-new-thread-area"}).append($("<label>",{class:"forum-input-container"}).append($("<div>").append(t),$("<div>").append(r)))));var t,r},noForumContainer:function(e){}})})),e.loader.load("https://proj.wjghj.cn/Gadget-WikiForum/dist/WikiForum.theme.default.css")}()}();
//# sourceMappingURL=WikiForum.theme.default.min.js.map