/*! For license information please see WikiForum.theme.fandom.min.js.LICENSE.txt */
!function(){function e(e){function t(){return e.msg.apply(e,arguments).parse()}mw.hook("WikiForum.theme").add((function(e){var a=function(e){var a=$("<div>",{class:"forum-new-reply-area"}),r=$("<textarea>",{class:"forum-textarea"}),n=$("<button>",{text:t("reply-btn"),class:"forum-submit-btn"}).click((function(){var t=r.val();if(t){a.addClass("forum-loading");var n=e.forumEl,i=e.forumid,o=e.threadid;e.fn.updater.addReply({forumEl:n,content:t,forumid:i,threadid:o})}}));return a.append($("<label>",{class:"forum-input-container"}).append($("<div>").append(r),$("<div>").append(n))),a};function r(e,t){var a={"M+":(t=t||new Date).getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return e}e&&e({allForumsContainer:function(e){return $("<div>",{class:"wiki-forum-all-container"})},forumContainer:function(e){return $("<div>",{class:"wiki-forum","data-forumid":e.meta.id})},threadContainer:function(e){var n=e.forumid,i=e.threadid,o=e.content,u=e.meta.timePublish||e.meta.timeRelease||e.meta.release||"",s=(e.meta.timeModify,e.meta.userAuthor||e.meta.user||"unsigned"),d=e.meta.userLast||s,l="forum-".concat(n,"_thread-").concat(i),f=$("<a>",{class:"forum-id-link",text:"#"+i,href:"#".concat(l)}).click((function(e){e.preventDefault(),window.history.pushState(null,null,window.location.href.split("#")[0]+"#"+l);var t=$("#"+l);$("html,body").animate({scrollTop:t.offset().top-100},500)})),c=$("<div>",{class:"forum-user"}).append($("<span>",{class:"forum-user-link"}).append($("<a>",{class:"mw-userlink userAuthor",text:s,href:mw.util.getUrl("User:"+s)}),d===s?"":$("<i>",{text:" (".concat(t("user-last"),"ï¼š").concat(d,")")}))),m=$("<div>",{class:"forum-content",html:o}),p=$("<div>",{class:"post-time"}).append($("<i>",{class:"post-date timePublish",text:r(t("date-format"),new Date(u))}));if("1"===i)return $("<div>",{id:l,class:"forum-thread forum-first"}).append($("<div>",{class:"forum-before"}).append($("<h3>",{class:"forum-title",text:e.forumMeta.title||"[UNTITLED] Forum Topic #"+n}),f,c),m,$("<div>",{class:"forum-after"}).append(p));var h=e.forumid,v=e._forum,g=e.fn,b=a({forumEl:v,forumid:h,threadid:i,fn:g});return $("<div>",{class:"forum-thread",id:l}).append($("<div>",{class:"forum-before"}).append(f,c),m,$("<div>",{class:"forum-after"}).append(p,$("<div>",{class:"new-reply-container"}).append($("<div>",{class:"modify-buttons-group"}).append($("<a>",{class:"reply-btn",href:"javascript:;",text:t("reply-btn")}).click((function(e){b.show(),$(this).hide()}))),b)))},afterAllForums:function(e){return $("<div>").append($("<p>",{text:"newForumContainer"}))},afterForum:function(e){return $("<div>",{class:"forum-thread forum-add-thread"}).append(function(e){var a=e._forum,r=e.forumid,n=$("<div>",{class:"forum-new-thread-area"}),i=$("<textarea>",{class:"forum-textarea"}),o=$("<button>",{text:t("submit-btn"),class:"forum-submit-btn"}).click((function(){var t=i.val();t&&(n.addClass("forum-loading"),e.fn.updater.addThread({forumEl:a,forumid:r,content:t}))}));return n.append($("<strong>",{text:t("add-thread-label")}),$("<label>",{class:"forum-input-container"}).append($("<div>").append(i),$("<div>").append(o))),n}(e))},noForumContainer:function(e){},handleLoading:function(e){$(e).addClass("forum-loading")}})}))}!1!==(window.WikiForumDefaultTheme||{}).loadStyle&&importArticle({type:"style",articles:["u:dev:MediaWiki:WikiForum/theme/default.css"]}),importArticle({type:"script",article:"u:dev:MediaWiki:I18n-js/code.js"}),mw.hook("dev.i18n").add((function(t){t.loadMessages("WikiForum-theme-default").then(e)}))}();
//# sourceMappingURL=WikiForum.theme.fandom.min.js.map